query Nfts($ownerAddress: String!) {
  portfolios(ownerAddresses: [$ownerAddress]) {
    id
    nftBalances {
      id
      ownedAsset {
        id
        collection {
          id
          collectionId
          description
          image {
            id
            url
          }
          isVerified
          name
          numAssets
          markets(currencies: [USD]) {
            id
            floorPrice {
              id
              value
            }
            owners
            volume24h {
              id
              value
            }
            totalVolume {
              id
              value
            }
          }
        }
        description
        image {
          id
          url
        }
        name
        nftContract {
          id
          address
          chain
          standard
        }
        thumbnail {
          id
          url
        }
        tokenId
        creator {
          id
          address
          username
        }
      }
    }
  }
}

query NFTsTabQuery($ownerAddress: String!, $first: Int, $after: String) {
  nftBalances(ownerAddress: $ownerAddress, first: $first, after: $after) {
    edges {
      node {
        ownedAsset {
          id
          collection {
            id
            name
            isVerified
            markets(currencies: [ETH]) {
              id
              floorPrice {
                value
              }
            }
          }
          image {
            id
            url
          }
          name
          tokenId
          description
          nftContract {
            id
            address
          }
        }
      }
    }
    pageInfo {
      endCursor
      hasNextPage
      hasPreviousPage
      startCursor
    }
  }
}

query PortfolioBalance($owner: String!) {
  portfolios(ownerAddresses: [$owner]) {
    id
    tokensTotalDenominatedValue {
      id
      value
    }
  }
}

query PortfolioBalances($ownerAddress: String!) {
  portfolios(ownerAddresses: [$ownerAddress]) {
    id
    tokenBalances {
      id
      quantity
      denominatedValue {
        id
        currency
        value
      }
      token {
        id
        chain
        address
        name
        symbol
        decimals
      }
      tokenProjectMarket {
        id
        tokenProject {
          id
          logoUrl
          safetyLevel
          isSpam
        }
        relativeChange24: pricePercentChange(duration: DAY) {
          id
          value
        }
      }
    }
  }
}

query SearchTokensProjects($searchQuery: String!) {
  searchTokenProjects(searchQuery: $searchQuery) {
    id
    logoUrl
    name
    safetyLevel
    tokens {
      id
      chain
      address
      decimals
      symbol
    }
  }
}

query SelectWalletScreen($ownerAddresses: [String!]!) {
  portfolios(ownerAddresses: $ownerAddresses) {
    id
    ownerAddress
    tokensTotalDenominatedValue {
      id
      value
    }
  }
}

query TransactionHistoryUpdater($addresses: [String!]!) {
  portfolios(ownerAddresses: $addresses) {
    id
    ownerAddress
    assetActivities(pageSize: 1, page: 1) {
      id
      timestamp
    }
  }
}

query TokenDetailsScreen($contract: ContractInput!) {
  tokens(contracts: [$contract]) {
    id
    market(currency: USD) {
      id
      volume(duration: DAY) {
        id
        value
      }
    }
  }

  tokenProjects(contracts: [$contract]) {
    id
    description
    homepageUrl
    twitterName
    name
    safetyLevel
    markets(currencies: [USD]) {
      id
      price {
        id
        value
        currency
      }
      marketCap {
        id
        value
        currency
      }
      fullyDilutedMarketCap {
        id
        value
        currency
      }
      priceHigh52W: priceHighLow(duration: YEAR, highLow: HIGH) {
        id
        value
        currency
      }
      priceLow52W: priceHighLow(duration: YEAR, highLow: LOW) {
        id
        value
        currency
      }
    }
    tokens {
      id
      chain
      address
      symbol
      decimals
    }
  }
}

query TokenPriceCharts($contract: ContractInput!) {
  tokenProjects(contracts: [$contract]) {
    id
    name
    markets(currencies: [USD]) {
      id
      # Data supported for all durations
      # - HOUR: 5m interval data
      # - DAY: 5m interval data
      # - WEEK: hourly interval data
      # - MONTH: hourly interval data
      # - YEAR: daily interval data
      # - MAX: 5m/hourly/daily depending on history duration
      priceHistory1H: priceHistory(duration: HOUR) {
        timestamp
        close: value
      }
      priceHistory1D: priceHistory(duration: DAY) {
        timestamp
        close: value
      }
      priceHistory1W: priceHistory(duration: WEEK) {
        timestamp
        close: value
      }
      priceHistory1M: priceHistory(duration: MONTH) {
        timestamp
        close: value
      }
      priceHistory1Y: priceHistory(duration: YEAR) {
        timestamp
        close: value
      }
    }
    tokens {
      id
      chain
      address
      symbol
      decimals
    }
  }
}

query TokenProjects($contracts: [ContractInput!]!) {
  tokenProjects(contracts: $contracts) {
    id
    logoUrl
    name
    safetyLevel
    tokens {
      id
      chain
      address
      decimals
      symbol
    }
  }
}

query TransactionList($address: String!) {
  portfolio(ownerAddress: $address) {
    id
    assetActivities(pageSize: 50, page: 1) {
      id
      timestamp
      type
      transaction {
        id
        hash
        status
        to
        from
      }
      assetChanges {
        __typename
        ... on TokenTransfer {
          id
          asset {
            id
            name
            symbol
            address
            decimals
            chain
          }
          tokenStandard
          quantity
          sender
          recipient
          direction
          transactedValue {
            id
            currency
            value
          }
        }
        ... on NftTransfer {
          id
          asset {
            id
            name
            nftContract {
              id
              chain
              address
            }
            tokenId
            imageUrl
            collection {
              id
              name
            }
          }
          nftStandard
          sender
          recipient
          direction
        }
        ... on TokenApproval {
          id
          asset {
            id
            name
            symbol
            decimals
            address
            chain
          }
          tokenStandard
          approvedAddress
          quantity
        }
      }
    }
  }
}

query TopTokens {
  topTokenProjects(orderBy: MARKET_CAP, page: 1, pageSize: 100) {
    id
    logoUrl
    name
    safetyLevel
    tokens {
      id
      chain
      address
      decimals
      symbol
    }
  }
}

query SearchPopularTokens {
  topTokenProjects(orderBy: VOLUME, page: 1, pageSize: 3) {
    id
    logoUrl
    tokens {
      id
      chain
      address
      name
      symbol
    }
  }
}

query SearchResults($searchQuery: String!) {
  searchTokenProjects(searchQuery: $searchQuery) {
    id
    logoUrl
    safetyLevel
    tokens {
      id
      chain
      address
      name
      symbol
    }
  }
}

query SpotPrices($contracts: [ContractInput!]!) {
  tokenProjects(contracts: $contracts) {
    id
    markets(currencies: [USD]) {
      id
      price {
        id
        value
      }
      pricePercentChange24h {
        id
        value
      }
    }
  }
}

query FavoriteTokenCardQuery($contract: ContractInput!) {
  tokenProjects(contracts: [$contract]) {
    id
    tokens {
      id
      chain
      address
      symbol
    }
    logoUrl
    markets(currencies: USD) {
      id
      price {
        id
        currency
        value
      }
      pricePercentChange24h {
        id
        currency
        value
      }
    }
  }
}

query ExploreTokensTab($topTokensOrderBy: MarketSortableField!) {
  topTokenProjects(orderBy: $topTokensOrderBy, page: 1, pageSize: 100) {
    id
    name
    logoUrl
    tokens {
      id
      chain
      address
      # HACK: Decimals included so Token Selector's top tokens query can reuse cached data
      decimals
      symbol
    }
    markets(currencies: USD) {
      id
      price {
        id
        currency
        value
      }
      marketCap {
        id
        currency
        value
      }
      pricePercentChange24h {
        id
        currency
        value
      }
    }
  }
}
